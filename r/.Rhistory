add_token_prop(female_pronoun) %>%
pivot_longer(cols = c(male_pronoun, female_pronoun), names_to = "gender")
basic_rain(data = plot_pronouns,
x = gender,
y = value,
fill = gender)
plot_pronouns <- data_labeled %>%
add_token_prop(male_pronoun)
summary(plot_pronouns$male_pronoun)
plot_pronouns <- data_labeled %>%
add_token_prop(male_pronoun)
basic_rain(data = plot_pronouns,
x = gender,
y = value,
fill = gender)
plot_pronouns <- data_labeled %>%
add_token_prop(male_pronoun) %>%
add_token_prop(female_pronoun) %>%
pivot_longer(cols = c(male_pronoun, female_pronoun), names_to = "gender")
summary(plot_pronouns)
plot_pronouns <- data_labeled %>%
select(male_pronoun, female_pronoun, tokens) %>%
add_token_prop(male_pronoun) %>%
add_token_prop(female_pronoun) %>%
pivot_longer(cols = c(male_pronoun, female_pronoun), names_to = "gender")
summary(plot_pronouns)
basic_rain(data = plot_gendered_terms,
x = gender,
y = value,
fill = gender)
summarise(plot_gendered_terms$tokens)
summarise(data_labeled$tokens)
data_labeled <- data %>%
filter(!(source %in% exclude_sources)) %>%
right_join(datasource_information) %>%
filter(source != "depbank") %>%
filter(source != "botxt") %>%
mutate(version = 1) %>%
filter(tokens != 0) %>%
mutate(tokens = as.numeric(tokens))
summarise(data_labeled$tokens)
data_labeled <- data %>%
filter(!(source %in% exclude_sources)) %>%
right_join(datasource_information) %>%
filter(source != "depbank") %>%
filter(source != "botxt") %>%
mutate(version = 1) %>%
filter(tokens != 0) %>%
mutate(tokens = as.numeric(tokens))
summarise(data_labeled$tokens)
view(data_labaled$tokens)
view(data_labeled$tokens)
str(v)
str(data_labeled)
str(data_labeled$tokens)
summarise(data_labeled$tokens)
plot_pronouns <- data_labeled %>%
select(male_pronoun, female_pronoun, tokens) %>%
add_token_prop(male_pronoun) %>%
add_token_prop(female_pronoun) %>%
pivot_longer(cols = c(male_pronoun, female_pronoun), names_to = "gender")
basic_rain(data = plot_pronouns,
x = gender,
y = value,
fill = gender)
plot_pronouns <- data_labeled %>%
select(male_pronoun, female_pronoun, tokens, domain) %>%
add_token_prop(male_pronoun) %>%
add_token_prop(female_pronoun) %>%
pivot_longer(cols = c(male_pronoun, female_pronoun), names_to = "gender")
basic_rain(data = plot_pronouns,
x = gender,
y = value,
fill = gender)
data_labeled <- data %>%
filter(!(source %in% exclude_sources)) %>%
right_join(datasource_information) %>%
filter(source != "depbank") %>%
filter(source != "botxt") %>%
mutate(version = 1) %>%
mutate(tokens = as.numeric(tokens)) %>%
filter(tokens != 0) %>%
summarise(data_labeled$tokens)
data_labeled <- data %>%
filter(!(source %in% exclude_sources)) %>%
right_join(datasource_information) %>%
filter(source != "depbank") %>%
filter(source != "botxt") %>%
mutate(version = 1) %>%
mutate(tokens = as.numeric(tokens)) %>%
filter(tokens != 0) %>%
summarise(data_labeled$tokens)
data_labeled <- data %>%
filter(!(source %in% exclude_sources)) %>%
right_join(datasource_information) %>%
filter(source != "depbank") %>%
filter(source != "botxt") %>%
mutate(version = 1) %>%
mutate(tokens = as.numeric(tokens)) %>%
filter(tokens != 0) %>%
summarise(data_labeled$tokens)
data$tokens
data_labeled <- data %>%
filter(!(source %in% exclude_sources)) %>%
right_join(datasource_information) %>%
filter(source != "depbank") %>%
filter(source != "botxt") %>%
mutate(version = 1)
data_labeled <- data %>%
filter(!(source %in% exclude_sources)) %>%
right_join(datasource_information) %>%
filter(source != "depbank") %>%
filter(source != "botxt")
data_labeled
data_labeled$tokens
str(data_labeled$tokens)
data_labeled <- data %>%
filter(!(source %in% exclude_sources)) %>%
right_join(datasource_information) %>%
filter(source != "depbank") %>%
filter(source != "botxt") %>%
mutate(tokens = as.numeric(tokens)) %>%
filter(tokens != 0) %>%
data_labeled <- data %>%
filter(!(source %in% exclude_sources)) %>%
right_join(datasource_information) %>%
filter(source != "depbank") %>%
filter(source != "botxt") %>%
mutate(tokens = as.numeric(tokens)) %>%
filter(tokens != 0) %>%
summarise(data_labeled$tokens)
data_labeled <- data %>%
filter(!(source %in% exclude_sources)) %>%
right_join(datasource_information) %>%
filter(source != "depbank") %>%
filter(source != "botxt") %>%
mutate(tokens = as.numeric(tokens)) %>%
filter(tokens != 0) %>%
summarise(data_labeled$tokens)
data_labeled <- data %>%
filter(!(source %in% exclude_sources)) %>%
right_join(datasource_information) %>%
filter(source != "depbank") %>%
filter(source != "botxt") %>%
mutate(tokens = as.numeric(tokens)) %>%
filter(tokens != 0) %>%
summarise(data_labeled$tokens)
data_labeled <- data %>%
filter(!(source %in% exclude_sources)) %>%
right_join(datasource_information) %>%
filter(source != "depbank") %>%
filter(source != "botxt") %>%
mutate(tokens = as.numeric(tokens)) %>%
filter(tokens != 0)
summarise(data_labeled$tokens)
plot_pronouns <- data_labeled %>%
select(male_pronoun, female_pronoun, tokens, domain) %>%
add_token_prop(male_pronoun) %>%
add_token_prop(female_pronoun) %>%
pivot_longer(cols = c(male_pronoun, female_pronoun), names_to = "gender")
basic_rain(data = plot_pronouns,
x = gender,
y = value,
fill = gender)
view(data_labeled$tokens)
data_labeled <- data %>%
filter(!(source %in% exclude_sources)) %>%
right_join(datasource_information) %>%
filter(source != "depbank") %>%
filter(source != "botxt") %>%
mutate(tokens = as.numeric(tokens)) %>%
filter(tokens != 0) %>%
filter(is.numeric(tokens))
dim(data_labeled)
data_labeled <- data %>%
filter(!(source %in% exclude_sources)) %>%
right_join(datasource_information) %>%
filter(source != "depbank") %>%
filter(source != "botxt") %>%
mutate(tokens = as.numeric(tokens)) %>%
filter(tokens != 0)
dim(data_labeled)
data_labeled <- data %>%
filter(!(source %in% exclude_sources)) %>%
right_join(datasource_information) %>%
filter(source != "depbank") %>%
filter(source != "botxt") %>%
mutate(tokens = as.numeric(tokens)) %>%
filter(tokens != 0) %>%
filter(is.numeric(tokens))
summarise(data_labeled$tokens)
summarise(data_labeled)
summarise(data_labeled)
data_labeled
summarise(data_labeled)
summary(data_labeled)
summary(data_labeled$tokens)
data_labeled <- data %>%
filter(!(source %in% exclude_sources)) %>%
right_join(datasource_information) %>%
filter(source != "depbank") %>%
filter(source != "botxt") %>%
mutate(tokens = as.numeric(tokens)) %>%
filter(tokens != 0)
summary(data_labeled$tokens)
plot_pronouns <- data_labeled %>%
select(male_pronoun, female_pronoun, tokens, domain) %>%
add_token_prop(male_pronoun) %>%
add_token_prop(female_pronoun) %>%
pivot_longer(cols = c(male_pronoun, female_pronoun), names_to = "gender")
basic_rain(data = plot_pronouns,
x = gender,
y = value,
fill = gender)
summary(plot_pronouns$value)
source("~/Desktop/dfm-visualisations/functions.r")
plot_pronouns <- data_labeled %>%
select(male_pronoun, female_pronoun, tokens, domain) %>%
add_token_prop(male_pronoun) %>%
add_token_prop(female_pronoun) %>%
pivot_longer(cols = c(male_pronoun, female_pronoun), names_to = "gender")
basic_rain(data = plot_pronouns,
x = gender,
y = value,
fill = gender)
plot_pronouns <- data_labeled %>%
select(male_pronoun, female_pronoun, tokens, domain) %>%
add_token_prop(male_pronoun) %>%
add_token_prop(female_pronoun) %>%
pivot_longer(cols = c(male_pronoun_token_prop, female_pronoun_token_prop), names_to = "gender")
basic_rain(data = plot_pronouns,
x = gender,
y = value,
fill = gender)
plot_gendered_terms <- data_labeled %>%
select(male_gendered_terms, female_gendered_terms, tokens, domain) %>%
add_token_prop(male_gendered_terms) %>%
add_token_prop(female_gendered_terms) %>%
pivot_longer(cols = c(male_gendered_terms_token_prop, female_gendered_terms_token_prop), names_to = "gender")
basic_rain(data = plot_gendered_terms,
x = gender,
y = value,
fill = gender)
basic_rain(data = plot_gendered_terms,
x = gender,
y = value,
fill = gender)
basic_rain(data = plot_gendered_terms,
x = gender,
y = value,
fill = gender)
basic_rain(data = plot_gendered_terms,
x = gender,
y = value,
fill = gender)
```
```{r}
plot_gendered_terms <- data_labeled %>%
select(male_gendered_terms, female_gendered_terms, tokens, domain) %>%
add_token_prop(male_gendered_terms) %>%
add_token_prop(female_gendered_terms) %>%
pivot_longer(cols = c(male_gendered_terms_token_prop, female_gendered_terms_token_prop), names_to = "gender")
basic_rain(data = plot_gendered_terms,
x = gender,
y = value,
fill = gender)
source("~/Desktop/dfm-visualisations/functions.r")
basic_rain(data = plot_pronouns,
x = gender,
y = value,
fill = gender)
basic_rain(data = plot_gendered_terms,
x = gender,
y = value,
fill = gender)
basic_rain(data = plot_gendered_names,
x = gender,
y = value,
fill = gender)
plot_gendered_names <- data_labeled %>%
select(male_names, female_names, tokens, domain) %>%
add_token_prop(male_names) %>%
add_token_prop(female_names) %>%
pivot_longer(cols = c(male_names_token_prop, female_names_terms_token_prop), names_to = "gender")
plot_gendered_names <- data_labeled %>%
select(male_names, female_names, tokens, domain) %>%
add_token_prop(male_names) %>%
add_token_prop(female_names) %>%
pivot_longer(cols = c(male_names_token_prop, female_names_token_prop), names_to = "gender")
basic_rain(data = plot_gendered_names,
x = gender,
y = value,
fill = gender)
basic_rain(data = plot_gendered_terms,
x = gender,
y = value,
fill = gender)
plot_gendered_names <- data_labeled %>%
select(male_names, female_names, tokens, domain) %>%
add_token_prop(male_names) %>%
add_token_prop(female_names) %>%
pivot_longer(cols = c(male_names_token_prop, female_names_token_prop), names_to = "gender")
basic_rain(data = plot_gendered_names,
x = gender,
y = value,
fill = gender)
source("~/Desktop/dfm-visualisations/functions.r")
basic_rain(data = plot_pronouns,
x = gender,
y = value,
fill = gender)
basic_rain(data = plot_pronouns,
x = gender,
y = value,
fill = gender)
source("~/Desktop/dfm-visualisations/functions.r")
library(pacman)
p_load(tidyverse, ggplot2, here, gghalves)
data <- read_csv(here("data", "output_100.csv"))
datasource_information <- tribble(
~source, ~domain,
"retsinformationdk", "Legal",
"skat", "Legal",
"retspraksis", "Legal",
"hest", "Social Media",
# "adl", ?
"botxt", "Other",
"cc", "Web",
"danavis", "News",
# "dannet",
# "depbank",
"ep", "Conversation",
"ft", "Conversation",
"gutenberg", "Wiki & Books",
"jvj", "Wiki & Books",
"naat", "Conversation",
"opensub", "Conversation",
"relig", "Wiki & Books",
"spont", "Conversation",
# "synne", ?
"tv2r", "News",
"wiki", "Wiki & Books",
"wikibooks", "Wiki & Books",
"wikisource", "Wiki & Books"
)
exclude_sources <- c("adl", "synne", "danavis", "depbank", "botxt")
data_labeled <- data %>%
filter(!(source %in% exclude_sources)) %>%
right_join(datasource_information) %>%
filter(source != "depbank") %>%
filter(source != "botxt") %>%
mutate(tokens = as.numeric(tokens)) %>%
filter(tokens != 0)
examine_data <- data_labeled %>%
filter(domain == "Wiki & Books")
sources <- c("cc", "tv2r", "spontsynne", "wiki", "ft")
data_labeled %>%
# filter(source %in% sources) %>%
ggplot(
aes(x=domain,
y=tokens,
fill = domain)
) +
#scale_y_log10() +
ggdist::stat_halfeye(
adjust = .5,
width = .6,
.width = 0,
justification = -.2,
point_colour = NA
) +
geom_boxplot(
width = .15,
outlier.shape = NA
) +
gghalves::geom_half_point(
side = "l",
range_scale = .3,
alpha = .1,
size = 0.5,
) +
coord_flip() +
theme(legend.position="none") +
facet_wrap(~domain,
scales = "free")
library(pacman)
p_load(ggdist)
plot_pronouns <- data_labeled %>%
select(male_pronoun, female_pronoun, tokens, domain) %>%
add_token_prop(male_pronoun) %>%
add_token_prop(female_pronoun) %>%
pivot_longer(cols = c(male_pronoun_token_prop, female_pronoun_token_prop), names_to = "gender")
basic_rain(data = plot_pronouns,
x = gender,
y = value,
fill = gender)
library(power)
library(pacman)
p_load(power)
pwr.chisq.test(w=0.1, df=6, sig.level=0.05, power=0.8)
p_load(pwr)
pwr.chisq.test(w=0.1, df=6, sig.level=0.05, power=0.8)
pwr.chisq.test(w=0.02, df=6, sig.level=0.05, power=0.8)
?åwr
?pwr
library(pacman)
p_load(pwr)
?pwr
?pwr.t.test
```{r}
library(pacman)
p_load(tidyverse, ggplot2, here, gghalves)
data <- read_csv(here("data", "output_100.csv"))
datasource_information <- tribble(
~source, ~domain,
"retsinformationdk", "Legal",
"skat", "Legal",
"retspraksis", "Legal",
"hest", "Social Media",
# "adl", ?
"botxt", "Other",
"cc", "Web",
"danavis", "News",
# "dannet",
# "depbank",
"ep", "Conversation",
"ft", "Conversation",
"gutenberg", "Wiki & Books",
"jvj", "Wiki & Books",
"naat", "Conversation",
"opensub", "Conversation",
"relig", "Wiki & Books",
"spont", "Conversation",
# "synne", ?
"tv2r", "News",
"wiki", "Wiki & Books",
"wikibooks", "Wiki & Books",
"wikisource", "Wiki & Books"
)
exclude_sources <- c("adl", "synne", "danavis", "depbank", "botxt")
data_labeled <- data %>%
filter(!(source %in% exclude_sources)) %>%
right_join(datasource_information) %>%
filter(source != "depbank") %>%
filter(source != "botxt") %>%
mutate(tokens = as.numeric(tokens)) %>%
filter(tokens != 0)
examine_data <- data_labeled %>%
filter(domain == "Wiki & Books")
sources <- c("cc", "tv2r", "spontsynne", "wiki", "ft")
data_labeled %>%
# filter(source %in% sources) %>%
ggplot(
aes(x=domain,
y=tokens,
fill = domain)
) +
#scale_y_log10() +
ggdist::stat_halfeye(
adjust = .5,
width = .6,
.width = 0,
justification = -.2,
point_colour = NA
) +
geom_boxplot(
width = .15,
outlier.shape = NA
) +
gghalves::geom_half_point(
side = "l",
range_scale = .3,
alpha = .1,
size = 0.5,
) +
coord_flip() +
theme(legend.position="none") +
facet_wrap(~domain,
scales = "free")
# Chunk 1
library(pacman)
p_load(ggdist)
# Chunk 2
plot_pronouns <- data_labeled %>%
select(male_pronoun, female_pronoun, tokens, domain) %>%
add_token_prop(male_pronoun) %>%
add_token_prop(female_pronoun) %>%
pivot_longer(cols = c(male_pronoun_token_prop, female_pronoun_token_prop), names_to = "gender")
basic_rain(data = plot_pronouns,
x = gender,
y = value,
fill = gender)
# Chunk 3
plot_gendered_terms <- data_labeled %>%
select(male_gendered_terms, female_gendered_terms, tokens, domain) %>%
add_token_prop(male_gendered_terms) %>%
add_token_prop(female_gendered_terms) %>%
pivot_longer(cols = c(male_gendered_terms_token_prop, female_gendered_terms_token_prop), names_to = "gender")
basic_rain(data = plot_gendered_terms,
x = gender,
y = value,
fill = gender)
# Chunk 4
plot_gendered_names <- data_labeled %>%
select(male_names, female_names, tokens, domain) %>%
add_token_prop(male_names) %>%
add_token_prop(female_names) %>%
pivot_longer(cols = c(male_names_token_prop, female_names_token_prop), names_to = "gender")
basic_rain(data = plot_gendered_names,
x = gender,
y = value,
fill = gender)
